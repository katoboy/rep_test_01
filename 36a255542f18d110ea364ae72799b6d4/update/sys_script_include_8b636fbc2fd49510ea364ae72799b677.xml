<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>false</active>
        <api_name>x_761427_campusdev.camdev_ValidationServerRequestClient_test</api_name>
        <caller_access/>
        <client_callable>true</client_callable>
        <description>デバッグ用</description>
        <name>camdev_ValidationServerRequestClient_test</name>
        <script><![CDATA[var camdev_ValidationServerRequestClient_test = Class.create();
camdev_ValidationServerRequestClient_test.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
	
	/**
	 * サーバ払出申請依頼時チェック処理
	 * ＜機能＞
	 * 申請者がサーバ払出申請依頼を行う際のチェック処理を行う
	 * 
	 * @return エラー無しの場合：空／エラーの場合：エラーメッセージのKeyの配列
	 */
	validationForServerRequest: function() {
		// パラメータ取得
		var svReqBaseSysId             = this.getParameter('sysparm_svreqbase_sysid');
		var classification             = this.getParameter('sysparm_classification');
		var classificationDisplayValue = this.getParameter('sysparm_classification_display_value');
		var serverType                 = this.getParameter('sysparm_server_type');
		var newNw                      = this.getParameter('sysparm_new_nw');
		var nwCableConnection          = this.getParameter('sysparm_nw_cable_connection');
		
		// チェック実施
		var checkUtil = new camdev_ValidationServerRequest();
		var errorMsgs = checkUtil.validationForServerRequest(svReqBaseSysId, classification, classificationDisplayValue, serverType, newNw, nwCableConnection);
		
		return JSON.stringify(errorMsgs);
	},
	
	/**
	 * サーバ払出申請依頼時チェック処理（警告メッセージ用）
	 * ＜機能＞
	 * 申請者がサーバ払出申請依頼を行う際の警告チェック処理を行う
	 * 
	 * @return エラー無しの場合：空／エラーの場合：エラーメッセージのKeyの配列
	 */
	validationForServerRequestWarning: function() {
		gs.info("furuta:validationForServerRequestWarning start");
		// パラメータ取得
		var svReqBaseSysId             = this.getParameter('sysparm_svreqbase_sysid');
		var classification             = this.getParameter('sysparm_classification');
		var classificationDisplayValue = this.getParameter('sysparm_classification_display_value');
		var serverType                 = this.getParameter('sysparm_server_type');
		
		// チェック実施
		var checkUtil = new camdev_ValidationServerRequest_log();
		var warningMsgs = checkUtil.validationForServerRequestWarning(svReqBaseSysId, classification, classificationDisplayValue, serverType);
		
		return JSON.stringify(warningMsgs);
	},
	
	/**
	 * プロビジョニング情報入力完了時チェック処理
	 * ＜機能＞
	 * プロビジョニング担当がプロビジョニング情報入力完了を行う際のチェック処理を行う
	 * 
	 * @return エラー無しの場合：空／エラーの場合：エラーメッセージのKeyの配列
	 */
	validationForProvisioningInputComplete: function() {
		// パラメータ取得
		var svReqBaseSysId = this.getParameter('sysparm_svreqbase_sysid');
		var classification = this.getParameter('sysparm_classification');
		var serverType     = this.getParameter('sysparm_server_type');
		
		// チェック実施
		var checkUtil = new camdev_ValidationServerRequest();
		var errorMsgs = checkUtil.validationForProvisioningInputComplete(svReqBaseSysId, classification, serverType);
		
		return JSON.stringify(errorMsgs);
	},
	
	/**
	 * リソース割当情報入力完了時チェック処理
	 * ＜機能＞
	 * キャパシティ担当がリソース割当情報入力完了を行う際のチェック処理を行う
	 * 
	 * @return エラー無しの場合：空／エラーの場合：エラーメッセージのKeyの配列
	 */
	validationForResourceInputComplete: function() {
		// パラメータ取得
		var svReqBaseSysId = this.getParameter('sysparm_svreqbase_sysid');
		var classification = this.getParameter('sysparm_classification');
		var serverType     = this.getParameter('sysparm_server_type');

		// チェック実施
		var checkUtil = new camdev_ValidationServerRequest();
		var errorMsgs = checkUtil.validationForResourceInputComplete(svReqBaseSysId, classification, serverType);
		
		return JSON.stringify(errorMsgs);
	},
	
	/**
	 * 自動化対象判定処理
	 * ＜機能＞
	 * 対象サーバが自動化対象かどうかを判定する。
	 * 
	 * @param svReqBaseSysId：サーバリクエスト基本情報のSysID
	 * @param classification：区分の値
	 * @param serverType：サーバ種別の値
	 * @param osType：使用OSの値
	 * @param usage：用途の値
	 * @return true：自動化対象／false:非自動化対象
	 */
	isAutomation: function() {
		// パラメータ取得
		var classification = this.getParameter('sysparm_classification');
		var serverType     = this.getParameter('sysparm_server_type');
		var osType     = this.getParameter('sysparm_ostype');
		var usage     = this.getParameter('sysparm_usage');

		// チェック実施
		var checkUtil = new camdev_ValidationServerRequest();
		var automation = checkUtil.isAutomation(classification, serverType, osType, usage);
		
		return global.JSON.parse(automation);
	},	
	
    type: 'camdev_ValidationServerRequestClient_test'
});]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-06-23 02:40:08</sys_created_on>
        <sys_id>8b636fbc2fd49510ea364ae72799b677</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>camdev_ValidationServerRequestClient_test</sys_name>
        <sys_package display_value="CampusDevApplication" source="x_761427_campusdev">36a255542f18d110ea364ae72799b6d4</sys_package>
        <sys_policy/>
        <sys_scope display_value="CampusDevApplication">36a255542f18d110ea364ae72799b6d4</sys_scope>
        <sys_update_name>sys_script_include_8b636fbc2fd49510ea364ae72799b677</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-06-23 02:40:08</sys_updated_on>
    </sys_script_include>
</record_update>
